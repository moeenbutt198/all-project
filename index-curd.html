<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/c6de75d4eb.js"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <title>Document</title>
  </head>
  <body>
    <!-- <div class="container">
      <div class="row">
        <div class="col-6 bg-warning">
          <form action="">
            <table>
              <tr>
                <td>
                  <label for="name">Full Name</label>
                  <input type="text" placeholder="Enter Full Name" id="name" />
                </td>
              </tr>
              <tr>
                <td>
                  <label for="email">Full email</label>
                  <input
                    type="email"
                    name=""
                    id="email"
                    placeholder="Enter Email Address"
                  />
                </td>
              </tr>
              <tr>
                <td>
                  <label for="psd">Full Password</label>

                  <input
                    type="password"
                    name=""
                    id="psd"
                    placeholder="Password"
                  />
                </td>
              </tr>
              <tr>
                <td>
                  <button type="button" onclick="_sub()">Submit</button>
                </td>
              </tr>
            </table>
          </form>
        </div>
        <div class="col-6">
          <p id="demo"></p>
        </div>
      </div>
    </div> -->

    <div class="container my-5">
        <div class="row">
            <div class="col-6 bg-warning p-2">
                <form id="form_reset">
                    <div class="mb-3">
                      <label for="name" class="form-label"> Name</label>
                      <input type="text" class="form-control" id="name">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label"> Email</label>
                        <input type="email" class="form-control" id="email">
                      </div>
                    <div class="mb-3">
                      <label for="exampleInputPassword1" class="form-label">Password</label>
                      <input type="password" id="password" class="form-control">
                    </div>
                    <button id="add_button" type="button" onclick="_sub()" class="btn btn-primary">Add</button>
                    <button id="update_button" type="button" onclick="_update()" class="btn btn-success" style="display: none;">Update</button>
                  </form>
            </div>
        </div>
    </div>



    <script>
        function _sub() {
          let a = $("#name").val();
          let b = $("#email").val();
          let c = $("#password").val();
          if (a != "" && b != "" && c != "") {
            $('.row').append('<div class="col-5 clr bg-secondary ms-2 mt-2"><div>Name</div><p class="name">'+ a +'</p><div>email</div><p class="email">'+ b +'</p><div>password</div><p class="psd">'+ c +'</p><div><button onclick="_edit(this)" type="button" class="btn btn-info">edit</button><button onclick="del(this)" type="button" class="btn btn-danger ms-2">Delete</button></div></div>');
            $('#form_reset').trigger('reset');
          } else {  
            alert("Please fill all the fields");
          }
        }

        function del(d) {
          // document.getElementsByClassName('clr').innerHTML = "";
          $(d).parents('.clr').remove();
        }

        let finder;
        function _edit(e) {
          finder = $(e).closest('.clr');

          let edit_name = finder.find('.name').text();
          let edit_email = finder.find('.email').text();
          let edit_password = finder.find('.psd').text();

          $('#name').val(edit_name);
          $('#email').val(edit_email);
          $('#password').val(edit_password);
          $('#add_button').hide();
          $('#update_button').show();
        }

        function _update() {
          let update_name = $('#name').val();
          let update_email = $('#email').val();
          let update_password = $('#password').val()
          if(update_name != '' && update_email != '' && update_password) {
            finder.find('.name').text(update_name);
            finder.find('.email').text(update_email);
            finder.find('.psd').text(update_password);
            $('#update_button').hide();
            $('#add_button').show();
            $('#form_reset').trigger('reset');
          } else {
            alert("please fill all the fields");
          }
        }
      </script>
  </body>

</html>
